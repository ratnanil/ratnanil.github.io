---
title: "Geospatial Software for Teaching: ArcGIS or QGIS?"
description: |
  Every year, we teach well over a hundred Bachelor and Master students basic and advanced concepts surrounding geospatial data. For each of these courses we have to decide on software to implement these concepts. As a publicly funded institution I feel an obligation to use Free and OpenSource Software in the classroom. Also, I believe that it's important to use software that is non-discriminatory towards any of the major operating systems Windows, Linux and Mac. From the selection of software that meet these criteria, my clear favorite is QGIS. In this blogpost I want to make a case for using QGIS (or OpenSource Software in general) to teach geospatial courses and specifically illustrate this with data gathered to compare ArcGIS and QGIS.
date: 2022-11-20
format:
  html:
    code-fold: true
execute: 
  warning: false
image: preview.png
---

::: {.callout-note}
## Disclaimer
The opinions expressed in this post are my own and do not necessarily reflect those of my employer.
:::

ArcGIS was considered to be the "industry standard" for a long time. Therefore, our Uni started out using ESRI products when initially developing the fist geospatial courses (I'm trying hard to [omit the term GIS](https://twitter.com/edzerpebesma/status/1278447470226411525)). Since ESRI has implemented an attractive pricing model for universities and students, there is a low barrier to using their products in academia. Over the years they have developed a suite of products that are exclusively interoperable, so vendor lock-in is a big issue and trying to transition away from the ESRI suite completely is a daunting task.

However, much less daunting is embracing OpenSource Software in education for new or overhauled courses. We have done this over the last couple of years, and we are very happy with how this has turned out. From the feedback I got from our students who used both software, they prefer working with QGIS: QGIS seems to run more stable and the fact that they can use it after they've completed their studies is a very nice perspective. 

There is *a lot* that speaks for using Free and OpenSource Software (FOSS) in general, and in an academic setting specifically.
I won't go into to much into these reasons here, this blogpost is about something else. Instead, I will refer you to the articles written by Richard Stallman and the Free Software Foundation on <https://www.gnu.org/education/>

![](meme-0.jpg)


ArcGIS vs. QGIS is an ongoing debate on social media. In this discussion, many people make the valid point that you don't have to choose and can use both software. Another point often made, is that you should teach concepts, not software. I fully agree with both statements, however not choosing a software is a bit impractical in an education setting. In this blogpost I will therefore continue to focus on the ArcGIS vs. QGIS debate. 

![](meme1.jpg)

The big *pro* argument for using ArcGIS seems to be: *ArcGIS is the industry standard, therfore the students need to learn ArcGIS*. 
This seems to be a classical chicken-egg problem: Do we teach software $X$ because it's the industry standard, or is software $X$ the industry standard because it's what we teach? 

Therefore, even if ArcGIS was the most widley used GIS software, I never thought this was a valid reason to teach it to students. Nonetheless, I've started digging into this question to find data to compare the popularity of ArcGIS vs. QGIS. So far, I've only found two datasets on this topic (if you have more, please get in touch[^contact]).

[^contact]: rata__at__zhaw.ch

1. The tags from gis.stackexchange.com (downloaded [here](https://archive.org/details/stackexchange) on the 17.11.2022)
2. Google Trends search data (downloaded [here](https://trends.google.com/trends/explore?date=all&geo=CH&q=%2Fm%2F082gc5,QGIS) on the 17.11.2022)

I've downloaded, processed and visualized this data with R. You can display the code for these steps below, or just look at the results.


```{r}
#| code-summary: Loading necessary libraries

library(here)
library(tidyverse)
library(lubridate)
library(ggfx)
library(ggtext)
library(ragg)
library(colorspace)

```


gis.stackexchange.com is a community within the stackexchange network, where questions regarding the use of geoinformation software can be placed. Each question can be attributed with up to 5 tags to categorize the question and make it easyer to find. To compare ArcGIS and QGIS, I counted the number of times a variant of the tag ArcGIS was used compared to the number of times a variant of the tag QGIS was used. There are 77 different tags containing ArcGIS, including `arcgis-desktop`, `arcgis-10.0`, `arcgis-pro` and so on. Since QGIS has less products, there are only 50 different tags containing QGIS, including `qgis`, `pyqgis`, `qgis-3` and others.



```{r}
#| code-summary: Preparing data from gis.stackexchange
gis_stackexchange_tags <- read_csv(here("blog","2022-11-30-ArcGIS-vs-QGIS", "gis.stackexchange-tags.csv"))

arcgis_pa <- gis_stackexchange_tags |>
  mutate(year = year(CreationDate)) |>
  filter(year < 2022) |>
  group_by(year, group) |>
  count()

arcgis_qgis_roll <- gis_stackexchange_tags |>
  mutate(month = as.Date(lubridate::round_date(CreationDate, "month"))) |> 
  group_by(group, month) |>
  count() |>
  group_by(group) |>
  mutate(roll = zoo::rollmean(n, 12, align = "left", fill = NA)) |>
  filter(!is.na(roll)) |>
  ungroup() |>
  complete(group, month, fill = list(n = 0, roll = 0))




arcgis_qgis_wide <- arcgis_qgis_roll |>
  group_by(month) |>
  summarise(
    min = min(roll),
    max = max(roll),
    diff = max - min,
    group = group[which.max(roll)]
  )


# https://coolors.co/palette/ef476f-ffd166-06d6a0-118ab2-073b4c
cols <- c(arcgis = "#06d6a0", qgis = "#ef476f")
bgcol <- "#073b4c"


get_first <- function(vec, comp){
  comps <- vec >= comp
  if(!any(comps)){
    length(comps)
  }else{
    min(which(comps))
  }
}

vlines <- tibble(y =  seq(0, 600, 100), xend = arcgis_qgis_roll$month[map_int(y, ~get_first(arcgis_qgis_roll$roll, .x))], x = rep(min(arcgis_qgis_roll$month),length(y)))
```


To take out some of the noise, I smoothed the monthly counts by taking the mean over a moving window of 1 year. 


```{r}
#| code-summary: Visualizing data from gis.stackexchange.com
#| column: page
#| fig-width: 12
#| fig-height: 6

ggplot(arcgis_qgis_roll, aes(month, roll, color = group)) +
  geom_ribbon(
    data = arcgis_qgis_wide,
    aes(x = month, ymin = min, ymax = max, color = group,
        fill = after_scale(darken(desaturate(color, .1), .4, space = "HLS"))),
    alpha = .7, inherit.aes = FALSE
  ) +
  with_blur(
    geom_line(data = ~filter(., group == "arcgis"), 
              color = cols[1], size = 2.5),
    colour = lighten(cols[1], .1), sigma = 3
  ) +
  with_blur(
    geom_line(data = ~filter(., group == "qgis"), 
              color = cols[2], size = 2.5),
    colour = lighten(cols[2], .1), sigma = 3
  )  +
  geom_line(size = 1.5) +
  geom_richtext(
    aes(x = as.Date("2015-06-01"), y = 700,
        label = glue::glue("Monthly <span style='font-family:cinzel;'><b style='color:{cols['arcgis']};font-size:30pt;'>[ArcGIS]</b> & <b style='color:{cols['qgis']};font-size:30pt;'>[QGIS]</b></span> Questions on gis.stackoverflow.com")),
    color = "grey80", size = 7, lineheight = 1.5, family = "Work Sans",
    stat = "unique", fill = NA, label.color = NA
  )  +
  annotate("text", x = as.Date("2015-01-27"), y = 620,vjust = .5, hjust = .5,
             label = "ESRI realeases\nArcGIS Pro 1.0",
             family = "Chivo",
           colour = cols["arcgis"],
             size = 3.8,
             lineheight = .9) +
  geom_segment(aes(x = as.Date("2015-01-27"), xend = as.Date("2015-01-27"), 
                   y = 530, yend = 600),colour = cols["arcgis"]) +
  annotate("text", x = as.Date("2016-10-15"), y = 620,vjust = .5, hjust = .5,
             label = "No. of QGIS Tags\nsurpasses ArcGIS",
             family = "Chivo",
           colour = cols["qgis"],
             size = 3.8,
             lineheight = .9) +
  geom_segment(aes(x = as.Date("2016-10-15"), xend = as.Date("2016-10-15"), 
                   y = 430, yend = 600),colour = cols["qgis"]) +
  geom_segment(data = vlines, aes(x = x, xend = xend, y = y, yend = y), inherit.aes = FALSE,  color = "grey50", linetype = "13") +
  geom_segment(data = filter(arcgis_qgis_wide, month(month) == 1), aes(x = month, xend = month, y = 0, yend = min-10), color = "grey50", linetype = "13") +
  scale_x_date(date_breaks = "year", date_labels = "%Y", expand = c(0, 0))  +
  scale_y_continuous(breaks = vlines$y) +
  scale_color_manual(values = cols) +
  theme_void() +
  theme(
    panel.background = element_rect(fill = "transparent", color = "transparent"),
    plot.background = element_rect(fill = bgcol),
    axis.text = element_text(family = "Cinzel", color = "grey80",
                               size = 10, face = "bold", margin = margin(t = 6)),
    panel.grid.major.x = element_blank(),
    plot.margin = margin(15, 30, 10, 30),
    plot.caption = element_text(family = "Work Sans", color = "grey50", size = 8,
                                hjust = .5, margin = margin(t = 30, b = 0)),
    legend.position = "none"
  )
```

```{r}
#| echo: false

ggsave(here("blog","2022-11-30-ArcGIS-vs-QGIS", "preview.png"), height = 10, width = 15, units = "cm",scale = 2.1)

```


The data from gis.stackexchange.com shows that both ArcGIS and QGIS have grown in popularity since 2011. ArcGIS has hit a peak around 2014, 2015 with the release of ArcGIS pro and has since been on a decline. The number of QGIS questions have overtaken those of ArcGIS end of 2016 and QGIS has been dominating the portal ever since. 

However, an argument can be made that the number of questions regarding a software does not reflect popularity, on the contrary it could be a sign of ambiguity: QGIS might provoke more questions in it use while the use of ArcGIS is more clear and straightforward. Or at least, that quetions regarding ArcGIS are not posted on gis.stackexchange.com, but on a different, ESRI hosted plattform.

This is why I've additionally looked at a different datasource, namely Google Trends. Google Trends provides access to a sample of search requests made to Google. This allows us to analyze interest in a particular topic worldwide or for a specific country. Google Trends normalizes search data from 0 to 100 to make comparisons between terms easier. Each data point is divided by the total searches in the selected geographic extent and time range to compare relative popularity. 

I downloaded these normalized values for the search terms ArcGIS and QGIS for the maximum time range (2004 to current), the geographic exentent of switzerland and no other restrictions. As before, I smoothed the monthly values with a moving window of 1 year.

This data seems to show that QGIS has overtaken ArcGIS in terms of popularity. However, an argument can be made that the number of questions regarding a software does not reflect popularity, but inversely is a sign of ambiguity: QGIS might provoke more questions in it use while the use of ArcGIS is more clear and straightforward. This is why I've additionally looked at a different datasource, namely Google Trends.


```{r}
#| code-summary: Visualizing data from Google Trends
google_trends_ch <- read_csv(here("blog","2022-11-30-ArcGIS-vs-QGIS", "google-trends-CH.csv"),skip = 1)
google_trends_world <- read_csv(here("blog","2022-11-30-ArcGIS-vs-QGIS", "google-trends-World.csv"),skip = 1)

google_trends_world$`QGIS: (Worldwide)` <- parse_number(google_trends_world$`QGIS: (Worldwide)`)

google_trends <- full_join(google_trends_ch, google_trends_world) |>  
  pivot_longer(-Month) |> 
  extract(name, c("Software", "Region"), regex = "(\\w+):\\s\\((\\w+)\\)") |> 
  mutate(Month = as.POSIXct(paste0(Month,"-1"), format = "%Y-%m-%d"))

google_trends_roll <- google_trends |> 
  group_by(Software, Region) |> 
  mutate(roll = zoo::rollmean(value, 12, align = "left", fill = NA)) |>
  filter(!is.na(roll)) |>
  ungroup() |>
  complete(Software, Region, fill = list(value = 0, roll = 0))

```


```{r}
#| column: page
#| fig-width: 12
#| fig-height: 6
#| code-summary: Visualizing data from Google Trends

ggplot(filter(google_trends_roll, Region == "Switzerland"), aes(Month, roll, color = Software)) +
  with_blur(
    geom_line(data = ~filter(., Software == "ArcGIS"), 
              color = cols[1], size = 2.5),
    colour = lighten(cols[1], .1), sigma = 3
  ) +
  with_blur(
    geom_line(data = ~filter(., Software == "QGIS"), 
              color = cols[2], size = 2.5),
    colour = lighten(cols[2], .1), sigma = 3
  ) +
  annotate("text", x = as.POSIXct("2019-10-01"), y = 42,vjust = .5, hjust = .5,
           label = "Probably Corona Dashboard searches",
           family = "Chivo",
           colour = cols["arcgis"],
           size = 3.8,
           lineheight = .9) +
  geom_segment(aes(x = as.POSIXct("2019-12-01"), xend = as.POSIXct("2019-12-01"), 
                   y = 40, yend = 35),colour = cols["arcgis"]) +
  theme_void() +
  geom_richtext(
    aes(x = as.POSIXct("2013-01-01"), y = 55,
        label = glue::glue("Google Trends for <span style='font-family:cinzel;'><b style='color:{cols['arcgis']};font-size:30pt;'>[ArcGIS]</b> & <b style='color:{cols['qgis']};font-size:30pt;'>[QGIS]</b></span> search terms in Switzerland")),
    color = "grey80", size = 7, lineheight = 1.5, family = "Work Sans",
    stat = "unique", fill = NA, label.color = NA
  ) +
  labs("Monthly Searches for QGIS and ArcGIS Terms on Google Trends") +
  theme(
    panel.background = element_rect(fill = "transparent", color = "transparent"),
    plot.background = element_rect(fill = bgcol),
    axis.text = element_text(family = "Cinzel", color = "grey80",
                               size = 10, face = "bold", margin = margin(t = 6)),
    panel.grid.major = element_line(linetype = 2,colour = "grey50"),
    plot.margin = margin(15, 30, 10, 30),
    plot.caption = element_text(family = "Work Sans", color = "grey50", size = 8,
                                hjust = .5, margin = margin(t = 30, b = 0)),
    legend.position = "none"
  )
```


This data range back further than the data from gis.stackexchange.com. But similarly, both software seem to have gained in popularity since around 2010 and again, ESRI hits a plateau around 2015. QGIS still gaining in popularity nearly overtakes the number of ArcGIS queries, but the search term ArcGIS spikes with the beginning of the pandemic. I'm guessing this has to do with searches related to the ArcGIS Covid dashboard. Interestingly, after the quick spike QGIS seems to have overtaken ArcGIS in terms of popularity in Switzerland as measured by this metric.

This shows the relativly strong QGIS community active in switzerland. The worldwide data shows very similar trends, but the offset between ArcGIS and QGIS is larger. 


```{r}
#| column: page
#| fig-width: 12
#| fig-height: 6
ggplot(filter(google_trends_roll, Region == "Worldwide"), aes(Month, roll, color = Software)) +
  with_blur(
    geom_line(data = ~filter(., Software == "ArcGIS"), 
              color = cols[1], size = 2.5),
    colour = lighten(cols[1], .1), sigma = 3
  ) +
  with_blur(
    geom_line(data = ~filter(., Software == "QGIS"), 
              color = cols[2], size = 2.5),
    colour = lighten(cols[2], .1), sigma = 3
  ) +
  annotate("text", x = as.POSIXct("2019-10-01"), y = 60,vjust = .5, hjust = .5,
           label = "Probably Corona Dashboard searches",
           family = "Chivo",
           colour = cols["arcgis"],
           size = 3.8,
           lineheight = .9) +
  geom_segment(aes(x = as.POSIXct("2019-12-01"), xend = as.POSIXct("2019-12-01"), 
                   y = 60, yend = 50),colour = cols["arcgis"]) +
  theme_void() +
  geom_richtext(
    aes(x = as.POSIXct("2013-01-01"), y = 70,
        label = glue::glue("Google Trends for <span style='font-family:cinzel;'><b style='color:{cols['arcgis']};font-size:30pt;'>[ArcGIS]</b> & <b style='color:{cols['qgis']};font-size:30pt;'>[QGIS]</b></span> search terms Worldwide")),
    color = "grey80", size = 7, lineheight = 1.5, family = "Work Sans",
    stat = "unique", fill = NA, label.color = NA
  ) +
  labs("Monthly Searches for QGIS and ArcGIS Terms on Google Trends") +
  theme(
    panel.background = element_rect(fill = "transparent", color = "transparent"),
    plot.background = element_rect(fill = bgcol),
    axis.text = element_text(family = "Cinzel", color = "grey80",
                               size = 10, face = "bold", margin = margin(t = 6)),
    panel.grid.major = element_line(linetype = 2,colour = "grey50"),
    plot.margin = margin(15, 30, 10, 30),
    plot.caption = element_text(family = "Work Sans", color = "grey50", size = 8,
                                hjust = .5, margin = margin(t = 30, b = 0)),
    legend.position = "none"
  )
```


It must be said that neither datasource can *accurately* reflect the softwares popularity in the world. For instance, they do not show many users or companies use the respective software or how much money it generates. Nonetheless, the data has convinced me even more that the time is right to bet on QGIS and exclusievly use FOSS in the classroom. 

I would like to finish off by providing you with very insightful talk given by David Abernathy at the  NC GIS Conference 2017. He talks about his University's transition from ArcGIS to FOSS, and makes several highly interesting points. If you've made it till here, please watch his video!

<div style="position: relative; padding-bottom: 56.25%; padding-top: 25px; height: 0;">
<iframe width="560" height="315" src="https://www.youtube.com/embed/S8dei0PP9SU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe>
</div>
