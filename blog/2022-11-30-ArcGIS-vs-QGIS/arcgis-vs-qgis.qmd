---
title: "Geospatial Software for Teaching: ArcGIS or QGIS?"
description: |
  Every year, we teach well over a hundred Bachelor and Master students basic and advanced concepts surrounding geospatial data. For each of these courses we have to decide on a software to implement these concepts (do we really?). As a publicly funded institution I feel an obligation to use Free and OpenSource Software in the classroom. Also, I feel that it's important to use software that is non-discriminatory towards any of the major operating systems Windows, Linux and Mac. From the selection of software that meet these criteria, my clear favorite is QGIS. In this blogpost I want to make a case for using QGIS (or OpenSource Software in general) to teach geospatial courses and specifically illustrate this with data gathered to compare ArcGIS and QGIS.
date: 2022-02-07
draft: true
format:
  html:
    code-fold: true
execute: 
  warning: false
---

::: {.callout-note}
## Disclaimer
The opinions expressed in this post are my own and do not necessarily reflect those of my employer.
:::

ArcGIS was considered to be the "industry standard" for a long time. Thus, our Uni started out using ESRI products when initially developing the fist geospatial courses (I'm trying hard to [omit the term GIS](https://twitter.com/edzerpebesma/status/1278447470226411525)). Since ESRI has implemented an attractive pricing model for universities and students, there is a low barrier to using their products in academia. Over the years they have developed a suite of products that are exclusively interoperable, so vendor lock-in is a big issue and trying to transition away from the ESRI suite completely is a daunting task.

However, much less daunting is embracing OpenSource Software for new or overhauled courses. We have done this over the last couple of years, and we are (or at least I am) very happy with how this has turned out. From the feedback I got from our students, they seem to enjoy working with QGIS as well: QGIS seems to be more stable and they enjoy the fact that they can use it after they've completed their studies. 

<div style="margin:0 auto">
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">We are developping a new course on remote sensing at our uni. What software would you primarily base it on: <a href="https://twitter.com/ArcGISPro?ref_src=twsrc%5Etfw">@ArcGISPro</a> or <a href="https://twitter.com/qgis?ref_src=twsrc%5Etfw">@qgis</a> ? Pure <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> or <a href="https://twitter.com/hashtag/python?src=hash&amp;ref_src=twsrc%5Etfw">#python</a> is not an option ðŸ˜” <a href="https://t.co/G4I6izCqhF">pic.twitter.com/G4I6izCqhF</a></p>&mdash; Nils Ratnaweera (@NRatnaweera) <a href="https://twitter.com/NRatnaweera/status/1447974898811424775?ref_src=twsrc%5Etfw">October 12, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>


ArcGIS vs. QGIS is an ongoing debate on social media. While there are avid supporters for both positions, several people seemingly settle the debate by stating that you can use both or that you should teach concepts, not software. I fully agree with both statements, and would love to think about a concept on an introductory course to geospatial, leaving the implementation to the user. This would open up a whole suite of other software which the students can use, e.g. R, Python, Manifold, Grass, SAGA, gdal, ogr2ogr, PostGIS and everything else out there that I have missed. I will definitely think about this concept more going forward, in this blogpost I will continue to focus on the ArcGIS vs. QGIS debate. 

![](meme1.jpg)

The big *pro* argument for using ArcGIS seems to be: *ArcGIS is the industry standard, it's what the students need to learn to be able to work in the geospatial sector*. Assuming the first part of this statement were true (*ArcGIS is the industry standard*), I still do not agree with the second part (*it's what the students need to learn*). 

It seems to be a classical chicken-egg problem: Do we teach software $X$ because it's the industry standard, or is software $X$ the industry standard because it's what we teach? I don't think we will ever find the answer to that question. But I *can* search data on the first question (*which software is more popular in the industry?*). In this search, I found two interesting sources:

1. The tags from gis.stackexchange.com (downloaded [here](https://archive.org/details/stackexchange) on the 17.11.2022)
2. Google Trends search data (downloaded [here](https://trends.google.com/trends/explore?date=all&geo=CH&q=%2Fm%2F082gc5,QGIS) on the 17.11.2022)

I've downloaded, processed and visualized this data with R. You can display the code for these steps below, or just look at the results.


```{r}
#| code-summary: loading necessary libraries

library(here)
library(tidyverse)
library(lubridate)
library(ggfx)
library(ggtext)
library(ragg)
library(colorspace)

```


```{r}
#| code-summary: Preparing data from gis.stackexchange
gis_stackexchange_tags <- read_csv(here("blog","2022-11-30-ArcGIS-vs-QGIS", "gis.stackexchange-tags.csv"))

arcgis_pa <- gis_stackexchange_tags |>
  mutate(year = year(CreationDate)) |>
  filter(year < 2022) |>
  group_by(year, group) |>
  count()

arcgis_qgis_roll <- gis_stackexchange_tags |>
  mutate(month = as.Date(lubridate::round_date(CreationDate, "month"))) |> 
  group_by(group, month) |>
  count() |>
  group_by(group) |>
  mutate(roll = zoo::rollmean(n, 12, align = "left", fill = NA)) |>
  filter(!is.na(roll)) |>
  ungroup() |>
  complete(group, month, fill = list(n = 0, roll = 0))




arcgis_qgis_wide <- arcgis_qgis_roll |>
  group_by(month) |>
  summarise(
    min = min(roll),
    max = max(roll),
    diff = max - min,
    group = group[which.max(roll)]
  )


# https://coolors.co/palette/ef476f-ffd166-06d6a0-118ab2-073b4c
cols <- c(arcgis = "#06d6a0", qgis = "#ef476f")
bgcol <- "#073b4c"


get_first <- function(vec, comp){
  comps <- vec >= comp
  if(!any(comps)){
    length(comps)
  }else{
    min(which(comps))
  }
}

vlines <- tibble(y =  seq(0, 600, 100), xend = arcgis_qgis_roll$month[map_int(y, ~get_first(arcgis_qgis_roll$roll, .x))], x = rep(min(arcgis_qgis_roll$month),length(y)))
```


```{r}
#| code-summary: Visualizing data from gis.stackexchange.com
#| column: page
#| fig-width: 12
#| fig-height: 6

ggplot(arcgis_qgis_roll, aes(month, roll, color = group)) +
  geom_ribbon(
    data = arcgis_qgis_wide,
    aes(x = month, ymin = min, ymax = max, color = group,
        fill = after_scale(darken(desaturate(color, .1), .4, space = "HLS"))),
    alpha = .7, inherit.aes = FALSE
  ) +
  with_blur(
    geom_line(data = ~filter(., group == "arcgis"), 
              color = cols[1], size = 2.5),
    colour = lighten(cols[1], .1), sigma = 3
  ) +
  with_blur(
    geom_line(data = ~filter(., group == "qgis"), 
              color = cols[2], size = 2.5),
    colour = lighten(cols[2], .1), sigma = 3
  )  +
  geom_line(size = 1.5) +
  geom_richtext(
    aes(x = as.Date("2015-06-01"), y = 700,
        label = glue::glue("Monthly <span style='font-family:cinzel;'><b style='color:{cols['arcgis']};font-size:30pt;'>[ArcGIS]</b> & <b style='color:{cols['qgis']};font-size:30pt;'>[QGIS]</b></span> Questions on gis.stackoverflow.com")),
    color = "grey80", size = 7, lineheight = 1.5, family = "Work Sans",
    stat = "unique", fill = NA, label.color = NA
  )  +
  annotate("text", x = as.Date("2015-01-27"), y = 620,vjust = .5, hjust = .5,
             label = "ESRI realeases\nArcGIS Pro 1.0",
             family = "Chivo",
           colour = cols["arcgis"],
             size = 3.8,
             lineheight = .9) +
  geom_segment(aes(x = as.Date("2015-01-27"), xend = as.Date("2015-01-27"), 
                   y = 530, yend = 600),colour = cols["arcgis"]) +
  annotate("text", x = as.Date("2016-10-15"), y = 620,vjust = .5, hjust = .5,
             label = "No. of QGIS Tags\nsurpasses ArcGIS",
             family = "Chivo",
           colour = cols["qgis"],
             size = 3.8,
             lineheight = .9) +
  geom_segment(aes(x = as.Date("2016-10-15"), xend = as.Date("2016-10-15"), 
                   y = 430, yend = 600),colour = cols["qgis"]) +
  geom_segment(data = vlines, aes(x = x, xend = xend, y = y, yend = y), inherit.aes = FALSE,  color = "grey50", linetype = "13") +
  geom_segment(data = filter(arcgis_qgis_wide, month(month) == 1), aes(x = month, xend = month, y = 0, yend = min-10), color = "grey50", linetype = "13") +
  scale_x_date(date_breaks = "year", date_labels = "%Y", expand = c(0, 0))  +
  scale_y_continuous(breaks = vlines$y) +
  scale_color_manual(values = cols) +
  theme_void() +
  theme(
    panel.background = element_rect(fill = "transparent", color = "transparent"),
    plot.background = element_rect(fill = bgcol),
    axis.text = element_text(family = "Cinzel", color = "grey80",
                               size = 10, face = "bold", margin = margin(t = 6)),
    panel.grid.major.x = element_blank(),
    plot.margin = margin(15, 30, 10, 30),
    plot.caption = element_text(family = "Work Sans", color = "grey50", size = 8,
                                hjust = .5, margin = margin(t = 30, b = 0)),
    legend.position = "none"
  )
```

This data seems to show that QGIS has overtaken ArcGIS in terms of popularity. However, an argument can be made that the number of questions regarding a software does not reflect popularity, but inversely is a sign of ambiguity: QGIS might provoke more questions in it use while the use of ArcGIS is more clear and straightforward. This is why I've additionally looked at a different datasource, namely Google Trends.


```{r}
#| code-summary: Visualizing data from Google Trends
google_trends_ch <- read_csv(here("blog","2022-11-30-ArcGIS-vs-QGIS", "google-trends-CH.csv"),skip = 1)
google_trends_world <- read_csv(here("blog","2022-11-30-ArcGIS-vs-QGIS", "google-trends-World.csv"),skip = 1)

google_trends_world$`QGIS: (Worldwide)` <- parse_number(google_trends_world$`QGIS: (Worldwide)`)

google_trends <- full_join(google_trends_ch, google_trends_world) |>  
  pivot_longer(-Month) |> 
  extract(name, c("Software", "Region"), regex = "(\\w+):\\s\\((\\w+)\\)") |> 
  mutate(Month = as.POSIXct(paste0(Month,"-1"), format = "%Y-%m-%d"))

google_trends_roll <- google_trends |> 
  group_by(Software, Region) |> 
  mutate(roll = zoo::rollmean(value, 12, align = "left", fill = NA)) |>
  filter(!is.na(roll)) |>
  ungroup() |>
  complete(Software, Region, fill = list(value = 0, roll = 0))

```


```{r}
#| column: page
#| fig-width: 12
#| fig-height: 6
ggplot(filter(google_trends_roll, Region == "Switzerland"), aes(Month, roll, color = Software)) +
  with_blur(
    geom_line(data = ~filter(., Software == "ArcGIS"), 
              color = cols[1], size = 2.5),
    colour = lighten(cols[1], .1), sigma = 3
  ) +
  with_blur(
    geom_line(data = ~filter(., Software == "QGIS"), 
              color = cols[2], size = 2.5),
    colour = lighten(cols[2], .1), sigma = 3
  ) +
  annotate("text", x = as.POSIXct("2019-10-01"), y = 42,vjust = .5, hjust = .5,
           label = "Probably Corona Dashboard searches",
           family = "Chivo",
           colour = cols["arcgis"],
           size = 3.8,
           lineheight = .9) +
  geom_segment(aes(x = as.POSIXct("2019-12-01"), xend = as.POSIXct("2019-12-01"), 
                   y = 40, yend = 35),colour = cols["arcgis"]) +
  theme_void() +
  geom_richtext(
    aes(x = as.POSIXct("2013-01-01"), y = 55,
        label = glue::glue("Google Trends for <span style='font-family:cinzel;'><b style='color:{cols['arcgis']};font-size:30pt;'>[ArcGIS]</b> & <b style='color:{cols['qgis']};font-size:30pt;'>[QGIS]</b></span> search terms in Switzerland")),
    color = "grey80", size = 7, lineheight = 1.5, family = "Work Sans",
    stat = "unique", fill = NA, label.color = NA
  ) +
  labs("Monthly Searches for QGIS and ArcGIS Terms on Google Trends") +
  theme(
    panel.background = element_rect(fill = "transparent", color = "transparent"),
    plot.background = element_rect(fill = bgcol),
    axis.text = element_text(family = "Cinzel", color = "grey80",
                               size = 10, face = "bold", margin = margin(t = 6)),
    panel.grid.major = element_line(linetype = 2,colour = "grey50"),
    plot.margin = margin(15, 30, 10, 30),
    plot.caption = element_text(family = "Work Sans", color = "grey50", size = 8,
                                hjust = .5, margin = margin(t = 30, b = 0)),
    legend.position = "none"
  )
```


Just as with the StackOverflow data, the Google Trends data seeems to show that although ESRI dominated the scene for the past two decades, QGIS is quickly catching up and has already overtaken ArcGIS by this popularity metric, at least in Switzerland. Let's have a look at the worldwide use of these search terms.


```{r}
#| column: page
#| fig-width: 12
#| fig-height: 6
ggplot(filter(google_trends_roll, Region == "Worldwide"), aes(Month, roll, color = Software)) +
  with_blur(
    geom_line(data = ~filter(., Software == "ArcGIS"), 
              color = cols[1], size = 2.5),
    colour = lighten(cols[1], .1), sigma = 3
  ) +
  with_blur(
    geom_line(data = ~filter(., Software == "QGIS"), 
              color = cols[2], size = 2.5),
    colour = lighten(cols[2], .1), sigma = 3
  ) +
  annotate("text", x = as.POSIXct("2019-10-01"), y = 60,vjust = .5, hjust = .5,
           label = "Probably Corona Dashboard searches",
           family = "Chivo",
           colour = cols["arcgis"],
           size = 3.8,
           lineheight = .9) +
  geom_segment(aes(x = as.POSIXct("2019-12-01"), xend = as.POSIXct("2019-12-01"), 
                   y = 60, yend = 50),colour = cols["arcgis"]) +
  theme_void() +
  geom_richtext(
    aes(x = as.POSIXct("2013-01-01"), y = 70,
        label = glue::glue("Google Trends for <span style='font-family:cinzel;'><b style='color:{cols['arcgis']};font-size:30pt;'>[ArcGIS]</b> & <b style='color:{cols['qgis']};font-size:30pt;'>[QGIS]</b></span> search terms Worldwide")),
    color = "grey80", size = 7, lineheight = 1.5, family = "Work Sans",
    stat = "unique", fill = NA, label.color = NA
  ) +
  labs("Monthly Searches for QGIS and ArcGIS Terms on Google Trends") +
  theme(
    panel.background = element_rect(fill = "transparent", color = "transparent"),
    plot.background = element_rect(fill = bgcol),
    axis.text = element_text(family = "Cinzel", color = "grey80",
                               size = 10, face = "bold", margin = margin(t = 6)),
    panel.grid.major = element_line(linetype = 2,colour = "grey50"),
    plot.margin = margin(15, 30, 10, 30),
    plot.caption = element_text(family = "Work Sans", color = "grey50", size = 8,
                                hjust = .5, margin = margin(t = 30, b = 0)),
    legend.position = "none"
  )
```


In terms of the worldwide use of the respective keywords in google search, QGIS still has some catching up to do. As is the case in all three indices, both terms seem to be gaining in popularity, and even in the worldwide use of the search term, QGIS is not far off from ArcGIS. Of course, this data does not reflect on how many users use either software or how much money they either generate, but I'm sure these datasets reflect a real world trend towards QGIS. 

I would like to finish off by providing you with very insightful talk given by David Abernathy at the  NC GIS Conference 2017. He talks about his University's transition from ArcGIS to OSGeoLive, and makes several interesting points. Also, if you are an educator, make sure to read the short post by Richard Stallman on [Why Schools Should Exclusively Use Free Software](https://www.gnu.org/education/edu-schools.en.html#note2).

<div style="margin:0 auto">
<iframe width="560" height="315" src="https://www.youtube.com/embed/S8dei0PP9SU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
